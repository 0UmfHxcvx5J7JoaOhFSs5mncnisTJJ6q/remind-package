{
    "collab_server" : "",
    "contents" : "\n#' Read in mif and write comparison.pdf\n#' \n#' Read in all information from mif file and create\n#' the comparison.pdf\n#' \n#' \n#' @param mif a path to one or more mif-files (might be created by confGDX2MIF)\n#' @param hist a path to one mif-file containing historical data\n#' @param y time span for the data in line plots, default: y=c(seq(2005,2060,5),seq(2070,2100,10)) \n#' @param y_hist time span for the historical data in the line plots, default: c(seq(1960,2015,1))\n#' @param y_bar time slides for bar plots, default: y_bar=c(2010,2030,2050,2100)\n#' @param reg region(s) in focus, reg =\"all_regi\" shows all regions if the mifs contain different regions\n#' \n#' @author Lavinia Baumstark\n#' @examples\n#' \n#' \\dontrun{compareScenarios(mif_path)}\n#'\n#'\n#' @export\n#' @importFrom magclass read.report mbind getRegions new.magpie getYears add_dimension setNames getNames<-\n#' @importFrom lusweave swopen swlatex swfigure swclose\n#' @importFrom mip mipLineHistorical mipBarYearData\n#' @importFrom luplot magpie2ggplot2\n#' @importFrom mip plotstyle\n\ncompareScenarios <- function(mif,hist,y=c(seq(2005,2060,5),seq(2070,2100,10)),y_hist=c(seq(1960,2015,1)),y_bar=c(2010,2030,2050,2100),reg=NULL) {\n\n############### read data ####################################################\n# read model results \ndata <- NULL\nfor(i in 1:length(mif)){\n  data_new <- read.report(mif[i],as.list=FALSE)\n  if (magclass::getNames(data_new,fulldim = TRUE)[[\"scenario\"]] %in% magclass::getNames(data,fulldim = TRUE)[[\"scenario\"]]) magclass::getNames(data_new) <- gsub(magclass::getNames(data_new,fulldim = TRUE)[\"scenario\"],paste0(magclass::getNames(data_new,fulldim = TRUE)[\"scenario\"],i),magclass::getNames(data_new))\n  if(all(getRegions(data) %in% getRegions(data_new))) {\n    data <- mbind(data,data_new)\n  } else {\n    if(is.null(reg)){\n      stop(\"the regional aggregation of the results are different, you might use reg='all_reg'\")\n    } else if(reg==\"all_reg\"){\n      if(all(getRegions(data_new) %in% getRegions(data))) {\n        # expand data_new by old regions from data\n        oldReg         <- getRegions(data)[-which(getRegions(data) %in% getRegions(data_new))]\n        dummy_data_new <- new.magpie(oldReg,getYears(data_new),getNames(data_new),fill=NA)\n        data_new       <- mbind(data_new,dummy_data_new)\n        # compine old and new data\n        data <- mbind(data,data_new) \n      } else {\n        # expand data by new regions from data_new\n        newReg     <- getRegions(data_new)[-which(getRegions(data_new) %in% getRegions(data))]\n        dummy_data <- new.magpie(newReg,getYears(data),getNames(data),fill=NA)\n        data       <- mbind(data,dummy_data)\n        # expand data_new by old regions from data\n        oldReg         <- getRegions(data)[-which(getRegions(data) %in% getRegions(data_new))]\n        dummy_data_new <- new.magpie(oldReg,getYears(data_new),getNames(data_new),fill=NA)\n        data_new       <- mbind(data_new,dummy_data_new)\n        # compine old and new data\n        data <- mbind(data,data_new) \n      }\n      \n    } else { \n      stop(\"the regional aggregation of the results are different, you might use reg='all_reg'\")\n    }\n  }  \n}\n\nif (!(is.null(reg))) {\n  if (!reg==\"all_reg\") {\n     data <- data[reg,y,]\n  } else {\n     data <- data[,y,]\n  }  \n} else {\n  data <- data[,y,]\n}\n# delete \"+\" and \"++\" from variable names\ndata <- deletePlus(data)\n\n# read historical data\nhist <- read.report(hist,as.list=FALSE)\nif(all(getRegions(data) %in% getRegions(hist))) {\n  hist <- hist[getRegions(data),y_hist,]\n} else {\n  if(reg==\"all_reg\"){\n    # fill up historical data for additional regions with 0\n    dataReg    <- getRegions(data)[-which(getRegions(data) %in% getRegions(hist))]\n    dummy_hist <- new.magpie(dataReg,getYears(hist),getNames(hist),fill=NA)\n    hist       <- mbind(hist,dummy_hist)\n    hist       <- hist[getRegions(data),y_hist,]\n  } else {\n    stop(\"historical data do not contain the choosen region\")\n  }\n}\n\n###############################################################################\n\n################## open output-pdf ############################################\nsw <- swopen(\"CompareScenarios.pdf\")\nswlatex(sw,\"\\\\tableofcontents\")\n###############################################################################\n\n################## plot data ##################################################\n# Macro\nswlatex(sw,\"\\\\subsection{Macro}\")\nswfigure(sw,mipLineHistorical,data[,,\"Consumption (billion US$2005/yr)\"],x_hist=NULL,\n                              ylab='Consumption [billion US$2005/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\nif(\"Policy Cost|Consumption Loss (billion US$2005/yr)\" %in% magclass::getNames(data,dim=3)) {\n  swfigure(sw,mipLineHistorical,data[,,\"Policy Cost|Consumption Loss (billion US$2005/yr)\"],x_hist=NULL,\n                                ylab='Policy Cost|Consumption Loss [billion US$2005/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n}\n\nswfigure(sw,mipLineHistorical,data[,,\"Population (million)\"],x_hist=hist[,,\"Population (million)\"],\n                              ylab='Population [million]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\nswfigure(sw,mipLineHistorical,data[,,\"GDP|MER (billion US$2005/yr)\"],x_hist=NULL,\n                              ylab='GDP|MER [billion US$2005/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\nswfigure(sw,mipLineHistorical,data[,,\"GDP|PPP (billion US$2005/yr)\"],x_hist=hist[,,\"GDP|PPP (billion US$2005/yr)\"],\n                              ylab='GDP|PPP [billion US$2005/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\nswlatex(sw,\"\\\\subsubsection{Prices}\")\nswfigure(sw,mipLineHistorical,data[,,\"Price|Carbon (US$2005/t CO2)\"],x_hist=NULL,\n                              ylab='Price|Carbon [US$2005/t CO2]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\nif(\"GLO\" %in% getRegions(data)) {\nswfigure(sw,mipLineHistorical,data[\"GLO\",,\"Price|Carbon (US$2005/t CO2)\"],x_hist=NULL,\n                              ylab='Price|Carbon_log [US$2005/t CO2]',ybreaks=c(20,30,40,50,60,75,100,200,500,1000,2000,3000), \n                              ylim=c(20,3000),ylog=TRUE,sw_option=\"height=10,width=9\")\n}\n\nswlatex(sw,\"\\\\subsubsection{PE Prices}\")\nswfigure(sw,mipLineHistorical,data[,,\"Price|Natural Gas|Primary Level (US$2005/GJ)\"],x_hist=NULL,\n                              ylab='Price|Natural Gas|Primary Level [US$2005/GJ]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\nswfigure(sw,mipLineHistorical,data[,,\"Price|Crude Oil|Primary Level (US$2005/GJ)\"],x_hist=NULL,\n                              ylab='Price|Crude Oil|Primary Level [US$2005/GJ]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\nswfigure(sw,mipLineHistorical,data[,,\"Price|Coal|Primary Level (US$2005/GJ)\"],x_hist=NULL,\n                              ylab='Price|Coal|Primary Level [US$2005/GJ]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\nswfigure(sw,mipLineHistorical,data[,,\"Price|Biomass|Primary Level (US$2005/GJ)\"],x_hist=NULL,\n                              ylab='Price|Biomass|Primary Level [US$2005/GJ]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\nswlatex(sw,\"\\\\subsubsection{FE Prices}\")\nswfigure(sw,mipLineHistorical,data[,,\"Price|Final Energy|Liquids|Transport (US$2005/GJ)\"],x_hist=NULL,\n                              ylab='Price|Final Energy|Liquids|Transport [US$2005/GJ]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\nif(\"Price|Final Energy|Heating Oil|Buildings (US$2005/GJ)\" %in% magclass::getNames(data,dim=3)){\n  swfigure(sw,mipLineHistorical,data[,,\"Price|Final Energy|Heating Oil|Buildings (US$2005/GJ)\"],x_hist=NULL,\n                                ylab='Price|Final Energy|Heating Oil|Buildings [US$2005/GJ]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n}\nif(\"Price|Final Energy|Heating Oil|Industry (US$2005/GJ)\" %in% magclass::getNames(data,dim=3)){\n  swfigure(sw,mipLineHistorical,data[,,\"Price|Final Energy|Heating Oil|Industry (US$2005/GJ)\"],x_hist=NULL,\n                                ylab='Price|Final Energy|Heating Oil|Industry [US$2005/GJ]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n}\nif(\"Price|Final Energy|Solids|Buildings (US$2005/GJ)\" %in% magclass::getNames(data,dim=3)){\n  swfigure(sw,mipLineHistorical,data[,,\"Price|Final Energy|Solids|Buildings (US$2005/GJ)\"],x_hist=NULL,\n                               ylab='Price|Final Energy|Solids|Buildings [US$2005/GJ]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n}\nif(\"Price|Final Energy|Solids|Industry (US$2005/GJ)\" %in% magclass::getNames(data,dim=3)){\n  swfigure(sw,mipLineHistorical,data[,,\"Price|Final Energy|Solids|Industry (US$2005/GJ)\"],x_hist=NULL,\n                               ylab='Price|Final Energy|Solids|Industry [US$2005/GJ]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n}\nswfigure(sw,mipLineHistorical,data[,,\"Price|Final Energy|Electricity|Transport (US$2005/GJ)\"],x_hist=NULL,\n                               ylab='Price|Final Energy|Electricity|Transport [US$2005/GJ]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\nif(\"Price|Final Energy|Electricity|Buildings (US$2005/GJ)\" %in% magclass::getNames(data,dim=3)){\n  swfigure(sw,mipLineHistorical,data[,,\"Price|Final Energy|Electricity|Buildings (US$2005/GJ)\"],x_hist=NULL,\n                               ylab='Price|Final Energy|Electricity|Buildings [US$2005/GJ]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n}\nif(\"Price|Final Energy|Electricity|Industry (US$2005/GJ)\" %in% magclass::getNames(data,dim=3)){\n  swfigure(sw,mipLineHistorical,data[,,\"Price|Final Energy|Electricity|Industry (US$2005/GJ)\"],x_hist=NULL,\n                              ylab='Price|Final Energy|Electricity|Industry [US$2005/GJ]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n}\n\n\nswlatex(sw,\"\\\\subsubsection{Trade}\")\nswfigure(sw,mipLineHistorical,data[,,\"Trade|Coal (EJ/yr)\"],x_hist=hist[,,\"Trade|Coal (EJ/yr)\"],\n                              ylab='Trade|Coal [EJ/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\nswfigure(sw,mipLineHistorical,data[,,\"Trade|Oil (EJ/yr)\"],x_hist=hist[,,\"Trade|Oil (EJ/yr)\"],\n                              ylab='Trade|Oil [EJ/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\nswfigure(sw,mipLineHistorical,data[,,\"Trade|Gas (EJ/yr)\"],x_hist=hist[,,\"Trade|Gas (EJ/yr)\"],\n                              ylab='Trade|Gas [EJ/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\nswfigure(sw,mipLineHistorical,data[,,\"Trade|Biomass (EJ/yr)\"],x_hist=NULL,\n                              ylab='Trade|Biomass [EJ/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\nswfigure(sw,mipLineHistorical,data[,,\"Trade|Goods (billion US$2005/yr)\"],x_hist=NULL,\n                              ylab='Trade|Goods [billion US$2005/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\n# calculate Kaya-Decomposition\nswlatex(sw,\"\\\\subsubsection{Kaya-Decomposition}\")\nkaya <- new.magpie(getRegions(data),getYears(data),magclass::getNames(data,dim=1))\nkaya <- add_dimension(kaya,dim=3.2,add=\"kaya\",nm=c(\"CO2 FF&I/FE\",\"FE/GDP\",\"GDP/Population\",\"Population\"))\nfor (i in magclass::getNames(data,dim=1)) {\n  kaya[,,i] <- calcKayaDecomp(mif=data[,,i])\n}\np <- magpie2ggplot2(kaya,facet_y=\"Data2\",facet_x=\"Data1\",color=\"Region\",group=NULL,\n                    scales=\"free_y\",show_grid=TRUE,ylab='Kaya Decomposition [%]',\n                    color_pal=plotstyle(getRegions(kaya))) \nprint(p)\nswfigure(sw,print,p,sw_option=\"height=10,width=9\")\n\nkaya <- new.magpie(getRegions(data),getYears(data),magclass::getNames(data,dim=1))\nkaya <- add_dimension(kaya,dim=3.2,add=\"kaya\",nm=c(\"CO2 FF&I [Mt CO2/yr]/FE [EJ/yr]\",\"FE [EJ/yr]/GDP [billion US$2005/yr]\",\n                                                   \"GDP [billion US$2005/yr]/Population [million]\",\"Population [million]\"))\nfor (i in magclass::getNames(data,dim=1)) {\n  kaya[,,i] <- calcKayaDecomp(mif=data[,,i],ref_year=NULL)\n}\np <- magpie2ggplot2(kaya,facet_y=\"Data2\",facet_x=\"Data1\",color=\"Region\",group=NULL,\n                    scales=\"free_y\",show_grid=TRUE,ylab='Kaya Decomposition',\n                    color_pal=plotstyle(getRegions(kaya))) \nprint(p)\nswfigure(sw,print,p,sw_option=\"height=10,width=9\")\n\n# Emissions\nswlatex(sw,\"\\\\subsection{Emissions}\")\nswfigure(sw,mipLineHistorical,data[,,\"Emi|GHGtot (Mt CO2-equiv/yr)\"],x_hist=NULL,\n                              ylab='Emi|GHGtot [Mt CO2-equiv/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\nswfigure(sw,mipLineHistorical,data[,,\"Emi|CO2 (Mt CO2/yr)\"],x_hist=NULL,\n                              ylab='Emi|CO2 [Mt CO2/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\nswfigure(sw,mipLineHistorical,data[,,\"Emi|CO2|Gross Fossil Fuels and Industry (Mt CO2/yr)\"],x_hist=NULL,\n         ylab='Emi|CO2|Gross Fossil Fuels and Industry [Mt CO2/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\nswfigure(sw,mipLineHistorical,data[,,\"Emi|CO2|Fossil Fuels and Industry (Mt CO2/yr)\"],x_hist=NULL,\n                              ylab='Emi|CO2|Fossil Fuels and Industry [Mt CO2/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\nswfigure(sw,mipLineHistorical,data[,,\"Emi|CO2|Land-Use Change (Mt CO2/yr)\"],x_hist=NULL,\n                              ylab='Emi|CO2|Land-Use Change [Mt CO2/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n# Emissions per sector\nGWP <- c(\"CO2\"=1,\"CH4\"=28,\"N2O\"=265)\nvar <- NULL\nvar <- mbind(var,data[,y_bar,\"Emi|CO2|Land-Use Change (Mt CO2/yr)\"]                   *GWP[\"CO2\"])\nvar <- mbind(var,data[,y_bar,\"Emi|CO2|Gross Fossil Fuels and Industry (Mt CO2/yr)\"]   *GWP[\"CO2\"])\nvar <- mbind(var,data[,y_bar,\"Emi|CO2|Carbon Capture and Storage|Biomass (Mt CO2/yr)\"]*-GWP[\"CO2\"])\nvar <- mbind(var,data[,y_bar,\"Emi|CH4|Energy Supply and Demand (Mt CH4/yr)\"]          *GWP[\"CH4\"])\nvar <- mbind(var,data[,y_bar,\"Emi|CH4|Land Use (Mt CH4/yr)\"]                          *GWP[\"CH4\"])\nvar <- mbind(var,data[,y_bar,\"Emi|CH4|Other (Mt CH4/yr)\"]                             *GWP[\"CH4\"])\nvar <- mbind(var,data[,y_bar,\"Emi|CH4|Waste (Mt CH4/yr)\"]                             *GWP[\"CH4\"])\nvar <- mbind(var,data[,y_bar,\"Emi|N2O|Land Use (kt N2O/yr)\"]                          *GWP[\"N2O\"]/1000)\nvar <- mbind(var,data[,y_bar,\"Emi|N2O|Energy Supply and Demand (kt N2O/yr)\"]          *GWP[\"N2O\"]/1000)\nvar <- mbind(var,data[,y_bar,\"Emi|N2O|Waste (kt N2O/yr)\"]                             *GWP[\"N2O\"]/1000)\nvar <- mbind(var,data[,y_bar,\"Emi|N2O|Industry (kt N2O/yr)\"]                          *GWP[\"N2O\"]/1000)\nvar <- setNames(var,gsub(\"Emi\\\\|\",\"\",magclass::getNames(var)))\nvar <- setNames(var,gsub(\" \\\\(.*\\\\)\",\"\",magclass::getNames(var)))\np <- mipBarYearData(var,ylab=\"Emi (Mt CO2eq/yr)\",colour=plotstyle(magclass::getNames(var,dim=3)))\nprint(p)\nswfigure(sw,print,p,sw_option=\"height=10,width=9\")\n\nswlatex(sw,\"\\\\subsubsection{CH4}\")\nswfigure(sw,mipLineHistorical,data[,,\"Emi|CH4 (Mt CH4/yr)\"],x_hist=NULL,\n                              ylab='Emi|CH4 [Mt CH4/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\nswfigure(sw,mipLineHistorical,data[,,\"Emi|CH4|Land Use (Mt CH4/yr)\"],x_hist=NULL,\n                              ylab='Emi|CH4|Land Use [Mt CH4/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\nswfigure(sw,mipLineHistorical,data[,,\"Emi|CH4|Energy Supply and Demand (Mt CH4/yr)\"],x_hist=NULL,\n                              ylab='Emi|CH4|Energy Supply and Demand [Mt CH4/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\nswlatex(sw,\"\\\\subsubsection{N2O}\")\nswfigure(sw,mipLineHistorical,data[,,\"Emi|N2O (kt N2O/yr)\"],x_hist=NULL,\n                              ylab='Emi|N2O [kt N2O/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\nswfigure(sw,mipLineHistorical,data[,,\"Emi|N2O|Land Use (kt N2O/yr)\"],x_hist=NULL,\n                              ylab='Emi|N2O|Land Use [kt N2O/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\nswfigure(sw,mipLineHistorical,data[,,\"Emi|N2O|Energy Supply and Demand (kt N2O/yr)\"],x_hist=NULL,\n                              ylab='Emi|N2O|Energy Supply and Demand [kt N2O/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\n# Energy\nswlatex(sw,\"\\\\subsection{Energy}\")\nswlatex(sw,\"\\\\subsubsection{Energy Investments}\")\nitems <- c (\"Energy Investments|Elec|Coal|w/ CCS (billion US$2005/yr)\",\n            \"Energy Investments|Elec|Coal|w/o CCS (billion US$2005/yr)\",\n            \"Energy Investments|Elec|Gas|w/ CCS (billion US$2005/yr)\",\n            \"Energy Investments|Elec|Gas|w/o CCS (billion US$2005/yr)\",\n            \"Energy Investments|Elec|Oil (billion US$2005/yr)\",\n            \"Energy Investments|Elec|Biomass|w/ CCS (billion US$2005/yr)\",\n            \"Energy Investments|Elec|Biomass|w/o CCS (billion US$2005/yr)\",\n            \"Energy Investments|Elec|Nuclear (billion US$2005/yr)\",\n            \"Energy Investments|Elec|Solar (billion US$2005/yr)\",\n            \"Energy Investments|Elec|Wind (billion US$2005/yr)\",\n            \"Energy Investments|Elec|Hydro (billion US$2005/yr)\",\n            \"Energy Investments|Elec|Geothermal (billion US$2005/yr)\",\n            \"Energy Investments|Elec|Hydrogen (billion US$2005/yr)\",\n            \"Energy Investments|Elec|Grid (billion US$2005/yr)\",\n            \"Energy Investments|Elec|Storage (billion US$2005/yr)\")\nEnInv <- data[,,items]\nmagclass::getNames(EnInv) <- gsub(\"*Energy Investments\\\\|Elec\\\\|\",\"\",magclass::getNames(EnInv))\nmagclass::getNames(EnInv) <- gsub(\" \\\\(billion US\\\\$2005/yr\\\\)\",\"\",magclass::getNames(EnInv))\nEnInv <- EnInv[,y_bar,]\np <- mipBarYearData(EnInv,ylab=\"Energy Investments|Elec (billion US$2005/yr)\",colour=plotstyle(magclass::getNames(EnInv,dim=3))) \nprint(p)\nswfigure(sw,print,p,sw_option=\"height=10,width=9\")\n\nswlatex(sw,\"\\\\subsubsection{Capacities}\")\nitems <- c (\"Cap|Electricity|Coal|w/ CCS (GW)\",\n            \"Cap|Electricity|Coal|w/o CCS (GW)\",\n            \"Cap|Electricity|Gas|w/ CCS (GW)\",\n            \"Cap|Electricity|Gas|w/o CCS (GW)\",\n            \"Cap|Electricity|Oil|w/o CCS (GW)\",\n            \"Cap|Electricity|Biomass (GW)\",\n            \"Cap|Electricity|Nuclear (GW)\",\n            \"Cap|Electricity|Hydro (GW)\",\n            \"Cap|Electricity|Geothermal (GW)\",\n            \"Cap|Electricity|Hydrogen (GW)\",\n            \"Cap|Electricity|Storage|Battery (GW)\",\n            \"Cap|Electricity|Solar (GW)\",\n            \"Cap|Electricity|Wind (GW)\")\nEnCap <- data[,,items]\nmagclass::getNames(EnCap) <- gsub(\"*Cap\\\\|Electricity\\\\|\",\"\",magclass::getNames(EnCap))\nmagclass::getNames(EnCap) <- gsub(\" \\\\(GW\\\\)\",\"\",magclass::getNames(EnCap))\nEnCap <- EnCap[,y_bar,]\np <- mipBarYearData(EnCap,ylab=\"Cap|Electricity (GW)\",colour=plotstyle(magclass::getNames(EnCap,dim=3))) \nprint(p)\nswfigure(sw,print,p,sw_option=\"height=10,width=9\")\n\nswlatex(sw,\"\\\\subsubsection{Primary Energy Mixes}\")\nitems <-c(\"PE|Coal (EJ/yr)\",\n          \"PE|Oil (EJ/yr)\",\n          \"PE|Gas (EJ/yr)\",\n          \"PE|Biomass (EJ/yr)\",\n          \"PE|Nuclear (EJ/yr)\",\n          \"PE|Solar (EJ/yr)\",\n          \"PE|Wind (EJ/yr)\",\n          \"PE|Hydro (EJ/yr)\",\n          \"PE|Geothermal (EJ/yr)\")\nPE <- data[,,items]\nmagclass::getNames(PE) <- gsub(\"PE\\\\|\",\"\",magclass::getNames(PE))\nmagclass::getNames(PE) <- gsub(\" \\\\(EJ/yr\\\\)\",\"\",magclass::getNames(PE))\nPE <- PE[,y_bar,]\np <- mipBarYearData(PE,ylab=\"PE (EJ/yr)\",colour=plotstyle(magclass::getNames(PE,dim=3))) \nprint(p)\nswfigure(sw,print,p,sw_option=\"height=10,width=9\")\n\n#### PE|Coal going to which uses:\n\n# use other variables because these do not exist in REMIND 1.6\n#items<- c (\"PE|Coal|Electricity|w/ CCS (EJ/yr)\",\n#           \"PE|Coal|Electricity|w/o CCS (EJ/yr)\",\n#           \"PE|Coal|Gases|w/ CCS (EJ/yr)\",\n#           \"PE|Coal|Gases|w/o CCS (EJ/yr)\",\n#           \"PE|Coal|Liquids|w/ CCS (EJ/yr)\",\n#           \"PE|Coal|Liquids|w/o CCS (EJ/yr)\",\n#           \"PE|Coal|Hydrogen|w/ CCS (EJ/yr)\",\n#           \"PE|Coal|Hydrogen|w/o CCS (EJ/yr)\",\n#           \"PE|Coal|Other (EJ/yr)\")\nitems<- c ( \"PE|Coal|Gases (EJ/yr)\",\n           \"PE|Coal|Liquids (EJ/yr)\",\n           \"PE|Coal|Solids (EJ/yr)\",\n           \"PE|Coal|Heat (EJ/yr)\",\n           \"PE|Coal|Electricity (EJ/yr)\",\n           \"PE|Coal|Hydrogen (EJ/yr)\")\nPE_coal <- data[,,intersect(items,magclass::getNames(data,dim=3))]\nmagclass::getNames(PE_coal) <- gsub(\"PE\\\\|Coal\\\\|\",\"\",magclass::getNames(PE_coal))\nmagclass::getNames(PE_coal) <- gsub(\" \\\\(EJ/yr\\\\)\",\"\",magclass::getNames(PE_coal))\nPE_coal <- PE_coal[,y_bar,]\np <- mipBarYearData(PE_coal,ylab=\"PE|Coal [EJ/yr]\",colour=plotstyle(magclass::getNames(PE_coal,dim=3))) \nprint(p)\nswfigure(sw,print,p,sw_option=\"height=10,width=9\")\n\n#### PE|Coal going to which uses:\n\n# use other variables because these do not exist in REMIND 1.6\n#items<- c (\"PE|Coal|Electricity|w/ CCS (EJ/yr)\",\n#           \"PE|Coal|Electricity|w/o CCS (EJ/yr)\",\n#           \"PE|Coal|Gases|w/ CCS (EJ/yr)\",\n#           \"PE|Coal|Gases|w/o CCS (EJ/yr)\",\n#           \"PE|Coal|Liquids|w/ CCS (EJ/yr)\",\n#           \"PE|Coal|Liquids|w/o CCS (EJ/yr)\",\n#           \"PE|Coal|Hydrogen|w/ CCS (EJ/yr)\",\n#           \"PE|Coal|Hydrogen|w/o CCS (EJ/yr)\",\n#           \"PE|Coal|Other (EJ/yr)\")\nitems<- c (\"PE|Gas|Gases (EJ/yr)\",\n           \"PE|Gas|Heat (EJ/yr)\",\n           \"PE|Gas|Electricity|w/ CCS (EJ/yr)\",\n           \"PE|Gas|Electricity|w/o CCS (EJ/yr)\",\n           \"PE|Gas|Liquids|w/ CCS (EJ/yr)\",\n           \"PE|Gas|Liquids|w/o CCS (EJ/yr)\",\n           \"PE|Gas|Hydrogen|w/ CCS (EJ/yr)\",\n           \"PE|Gas|Hydrogen|w/o CCS (EJ/yr)\")\nPE_coal <- data[,,items]\nmagclass::getNames(PE_coal) <- gsub(\"PE\\\\|Gas\\\\|\",\"\",magclass::getNames(PE_coal))\nmagclass::getNames(PE_coal) <- gsub(\" \\\\(EJ/yr\\\\)\",\"\",magclass::getNames(PE_coal))\nPE_coal <- PE_coal[,y_bar,]\np <- mipBarYearData(PE_coal,ylab=\"PE|Gas [EJ/yr]\",colour=plotstyle(magclass::getNames(PE_coal,dim=3))) \nprint(p)\nswfigure(sw,print,p,sw_option=\"height=10,width=9\")\n\nitems<- c (\"PE|Biomass|Solids (EJ/yr)\",\n           \"PE|Biomass|Heat (EJ/yr)\",\n           \"PE|Biomass|Liquids|w/ CCS (EJ/yr)\",\n           \"PE|Biomass|Liquids|w/o CCS (EJ/yr)\",\n           \"PE|Biomass|Gases (EJ/yr)\",\n           \"PE|Biomass|Electricity|w/ CCS (EJ/yr)\",\n           \"PE|Biomass|Electricity|w/o CCS (EJ/yr)\",\n           \"PE|Biomass|Hydrogen|w/ CCS (EJ/yr)\",\n           \"PE|Biomass|Hydrogen|w/o CCS (EJ/yr)\")\nPE_bio <- data[,,intersect(items,magclass::getNames(data,dim=3))]\nmagclass::getNames(PE_bio) <- gsub(\"PE\\\\|Biomass\\\\|\",\"\",magclass::getNames(PE_bio))\nmagclass::getNames(PE_bio) <- gsub(\" \\\\(EJ/yr\\\\)\",\"\",magclass::getNames(PE_bio))\nPE_bio <- PE_bio[,y_bar,]\np <- mipBarYearData(PE_bio,ylab=\"PE|Biomass [EJ/yr]\",colour=plotstyle(magclass::getNames(PE_bio,dim=3))) \nprint(p)\nswfigure(sw,print,p,sw_option=\"height=10,width=9\")\n\nswlatex(sw,\"\\\\subsubsection{Primary Energy line plots}\")\nswfigure(sw,mipLineHistorical,data[,,\"PE|Coal (EJ/yr)\"],x_hist=hist[,,\"PE|Coal (EJ/yr)\"],\n                              ylab='PE|Coal [EJ/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\nswfigure(sw,mipLineHistorical,data[,,\"PE|Oil (EJ/yr)\"],x_hist=hist[,,\"PE|Oil (EJ/yr)\"],\n                              ylab='PE|Oil [EJ/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\nswfigure(sw,mipLineHistorical,data[,,\"PE|Gas (EJ/yr)\"],x_hist=hist[,,\"PE|Gas (EJ/yr)\"],\n                               ylab='PE|Gas [EJ/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\nswfigure(sw,mipLineHistorical,data[,,\"PE|Biomass (EJ/yr)\"],x_hist=hist[,,\"PE|Biomass (EJ/yr)\"],\n                              ylab='PE|Biomass [EJ/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\n\nswlatex(sw,\"\\\\subsubsection{Secondary Energy Mixes}\")\n#### Electricity Mix\nitems<- c (\"SE|Electricity|Coal|w/ CCS (EJ/yr)\",\n           \"SE|Electricity|Coal|w/o CCS (EJ/yr)\",\n           \"SE|Electricity|Oil (EJ/yr)\",\n           \"SE|Electricity|Gas|w/ CCS (EJ/yr)\",\n           \"SE|Electricity|Gas|w/o CCS (EJ/yr)\",\n           \"SE|Electricity|Geothermal (EJ/yr)\",\n           \"SE|Electricity|Hydro (EJ/yr)\",\n           \"SE|Electricity|Nuclear (EJ/yr)\",\n           \"SE|Electricity|Biomass|w/ CCS (EJ/yr)\",\n           \"SE|Electricity|Biomass|w/o CCS (EJ/yr)\",\n           \"SE|Electricity|Solar|CSP (EJ/yr)\",\n           \"SE|Electricity|Solar|PV (EJ/yr)\",\n           \"SE|Electricity|Wind (EJ/yr)\",\n           \"SE|Electricity|Hydrogen (EJ/yr)\")\nSE_el <- data[,,intersect(items,magclass::getNames(data,dim=3))]\nmagclass::getNames(SE_el) <- gsub(\"SE\\\\|Electricity\\\\|\",\"\",magclass::getNames(SE_el))\nmagclass::getNames(SE_el) <- gsub(\" \\\\(EJ/yr\\\\)\",\"\",magclass::getNames(SE_el))\nSE_el <- SE_el[,y_bar,]\np <- mipBarYearData(SE_el,ylab=\"SE|Electricity [EJ/yr]\",colour=plotstyle(magclass::getNames(SE_el,dim=3))) \nprint(p)\nswfigure(sw,print,p,sw_option=\"height=10,width=9\")\n\n#### Liquids Mix\n\nitems<- c (\"SE|Liquids|Oil (EJ/yr)\",\n           \"SE|Liquids|Biomass|w/ CCS (EJ/yr)\",\n           \"SE|Liquids|Biomass|w/o CCS (EJ/yr)\",\n           \"SE|Liquids|Coal|w/ CCS (EJ/yr)\",\n           \"SE|Liquids|Coal|w/o CCS (EJ/yr)\",\n           \"SE|Liquids|Gas|w/ CCS (EJ/yr)\",\n           \"SE|Liquids|Gas|w/o CCS (EJ/yr)\")\nSE_liq <- data[,,items]\nmagclass::getNames(SE_liq) <- gsub(\"SE\\\\|Liquids\\\\|\",\"\",magclass::getNames(SE_liq))\nmagclass::getNames(SE_liq) <- gsub(\" \\\\(EJ/yr\\\\)\",\"\",magclass::getNames(SE_liq))\nSE_liq <- SE_liq[,y_bar,]\np <- mipBarYearData(SE_liq,ylab=\"SE|Liquids [EJ/yr]\",colour=plotstyle(magclass::getNames(SE_liq,dim=3))) \nprint(p)\nswfigure(sw,print,p,sw_option=\"height=10,width=9\")\n\n#### Gases Mix\n\nitems<- c (\"SE|Gases|Natural Gas (EJ/yr)\",\n           \"SE|Gases|Biomass|w/ CCS (EJ/yr)\",\n           \"SE|Gases|Biomass|w/o CCS (EJ/yr)\",\n           \"SE|Gases|Coal|w/ CCS (EJ/yr)\",\n           \"SE|Gases|Coal|w/o CCS (EJ/yr)\")\nSE_ga <- data[,,items]\nmagclass::getNames(SE_ga) <- gsub(\"SE\\\\|Gases\\\\|\",\"\",magclass::getNames(SE_ga))\nmagclass::getNames(SE_ga) <- gsub(\" \\\\(EJ/yr\\\\)\",\"\",magclass::getNames(SE_ga))\nSE_ga <- SE_ga[,y_bar,]\np <- mipBarYearData(SE_ga,ylab=\"SE|Gases [EJ/yr]\",colour=plotstyle(magclass::getNames(SE_ga,dim=3))) \nprint(p)\nswfigure(sw,print,p,sw_option=\"height=10,width=9\")\n\n#### Hydrogen Mix\n\nitems<- c (\"SE|Hydrogen|Biomass|w/ CCS (EJ/yr)\",\n           \"SE|Hydrogen|Biomass|w/o CCS (EJ/yr)\",\n           \"SE|Hydrogen|Coal|w/ CCS (EJ/yr)\",\n           \"SE|Hydrogen|Coal|w/o CCS (EJ/yr)\",\n           \"SE|Hydrogen|Gas|w/ CCS (EJ/yr)\",\n           \"SE|Hydrogen|Gas|w/o CCS (EJ/yr)\",\n           \"SE|Hydrogen|Electricity (EJ/yr)\")\nSE_H2 <- data[,,items]\nmagclass::getNames(SE_H2) <- gsub(\"SE\\\\|Hydrogen\\\\|\",\"\",magclass::getNames(SE_H2))\nmagclass::getNames(SE_H2) <- gsub(\" \\\\(EJ/yr\\\\)\",\"\",magclass::getNames(SE_H2))\nSE_H2 <- SE_H2[,y_bar,]\np <- mipBarYearData(SE_H2,ylab=\"SE|Hydrogen [EJ/yr]\",colour=plotstyle(magclass::getNames(SE_H2,dim=3))) \nprint(p)\nswfigure(sw,print,p,sw_option=\"height=10,width=9\")\n\n\n#### Solids Mix\n\nitems<- c (\"SE|Solids|Biomass (EJ/yr)\",\n           \"SE|Solids|Coal (EJ/yr)\")\nSE_so <- data[,,items]\nmagclass::getNames(SE_so) <- gsub(\"SE\\\\|Solids\\\\|\",\"\",magclass::getNames(SE_so))\nmagclass::getNames(SE_so) <- gsub(\" \\\\(EJ/yr\\\\)\",\"\",magclass::getNames(SE_so))\nSE_so <- SE_so[,y_bar,]\np <- mipBarYearData(SE_so,ylab=\"SE|Solids [EJ/yr]\",colour=plotstyle(magclass::getNames(SE_so,dim=3))) \nprint(p)\nswfigure(sw,print,p,sw_option=\"height=10,width=9\")\n\n\nswlatex(sw,\"\\\\subsubsection{Secondary Energy line plots}\")\n\nswfigure(sw,mipLineHistorical,data[,,\"SE|Gases|Natural Gas (EJ/yr)\"],x_hist=hist[,,\"SE|Gases|Gas (EJ/yr)\"],\n         ylab='SE|Gases|(Natural)Gas [EJ/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\nswfigure(sw,mipLineHistorical,data[,,\"SE|Gases|Coal (EJ/yr)\"],x_hist=hist[,,\"SE|Gases|Coal (EJ/yr)\"],\n         ylab='SE|Gases|Coal [EJ/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\nswfigure(sw,mipLineHistorical,data[,,\"SE|Gases|Biomass (EJ/yr)\"],x_hist=hist[,,\"SE|Gases|Biomass (EJ/yr)\"],\n         ylab='SE|Gases|Biomass [EJ/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\nswfigure(sw,mipLineHistorical,data[,,\"SE|Electricity|Gas (EJ/yr)\"],x_hist=hist[,,\"SE|Electricity|Gas (EJ/yr)\"],\n         ylab='SE|Electricity|Gas [EJ/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\nswfigure(sw,mipLineHistorical,data[,,\"SE|Electricity|Coal (EJ/yr)\"],x_hist=hist[,,\"SE|Electricity|Coal (EJ/yr)\"],\n         ylab='SE|Electricity|Coal [EJ/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\nswfigure(sw,mipLineHistorical,data[,,\"SE|Electricity|Oil (EJ/yr)\"],x_hist=hist[,,\"SE|Electricity|Oil (EJ/yr)\"],\n         ylab='SE|Electricity|Oil [EJ/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\nswfigure(sw,mipLineHistorical,data[,,\"SE|Electricity|Hydro (EJ/yr)\"],x_hist=hist[,,\"SE|Electricity|Hydro (EJ/yr)\"],\n         ylab='SE|Electricity|Hydro [EJ/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\nswfigure(sw,mipLineHistorical,data[,,\"SE|Electricity|Wind (EJ/yr)\"],x_hist=hist[,,\"SE|Electricity|Wind (EJ/yr)\"],\n         ylab='SE|Electricity|Wind [EJ/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\nswfigure(sw,mipLineHistorical,data[,,\"SE|Electricity|Nuclear (EJ/yr)\"],x_hist=hist[,,\"SE|Electricity|Nuclear (EJ/yr)\"],\n         ylab='SE|Electricity|Nuclear [EJ/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\nswfigure(sw,mipLineHistorical,data[,,\"SE|Electricity|Solar (EJ/yr)\"],x_hist=hist[,,\"SE|Electricity|Solar (EJ/yr)\"],\n         ylab='SE|Electricity|Solar [EJ/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\nswfigure(sw,mipLineHistorical,data[,,\"SE|Electricity|Biomass (EJ/yr)\"],x_hist=hist[,,\"SE|Electricity|Biomass (EJ/yr)\"],\n         ylab='SE|Electricity|Biomass [EJ/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\nswfigure(sw,mipLineHistorical,data[,,\"SE|Solids|Coal (EJ/yr)\"],x_hist=hist[,,\"SE|Solids|Coal (EJ/yr)\"],\n         ylab='SE|Solids|Coal [EJ/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\nswfigure(sw,mipLineHistorical,data[,,\"SE|Solids|Biomass (EJ/yr)\"],x_hist=hist[,,\"SE|Solids|Biomass (EJ/yr)\"],\n         ylab='SE|Solids|Biomass [EJ/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\nswfigure(sw,mipLineHistorical,data[,,\"SE|Solids|Biomass (EJ/yr)\"],x_hist=hist[,,\"SE|Solids|Traditional Biomass (EJ/yr)\"],\n         ylab='SE|Solids|Traditional Biomass [EJ/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\n\n##### Final Energy\nswlatex(sw,\"\\\\subsubsection{Final Energy Mix}\")\nitems<- c(\"FE|Solids (EJ/yr)\",\n          \"FE|Liquids (EJ/yr)\",\n          \"FE|Gases (EJ/yr)\",\n          \"FE|Heat (EJ/yr)\",\n          \"FE|Hydrogen (EJ/yr)\",\n          \"FE|Electricity (EJ/yr)\")\nFE <- data[,,intersect(items,magclass::getNames(data,dim=3))]\nmagclass::getNames(FE) <- gsub(\"FE\\\\|\",\"\",magclass::getNames(FE))\nmagclass::getNames(FE) <- gsub(\" \\\\(EJ/yr\\\\)\",\"\",magclass::getNames(FE))\nFE <- FE[,y_bar,]\np <- mipBarYearData(FE,ylab=\"FE [EJ/yr]\",colour=plotstyle(magclass::getNames(FE,dim=3))) \nprint(p)\nswfigure(sw,print,p,sw_option=\"height=10,width=9\")\n\n\nswlatex(sw,\"\\\\subsubsection{Final Energy line plot}\")\nswlatex(sw,\"\\\\subsubsubsection{Total}\")\nswfigure(sw,mipLineHistorical,data[,,\"FE (EJ/yr)\"],x_hist=hist[,,\"FE (EJ/yr)\"],\n                              ylab='FE [EJ/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\nswfigure(sw,mipLineHistorical,data[,,\"FE|Electricity (EJ/yr)\"],x_hist=hist[,,\"FE|Electricity (EJ/yr)\"],\n                              ylab='FE|Electricity [EJ/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\nswfigure(sw,mipLineHistorical,data[,,\"FE|Gases (EJ/yr)\"],x_hist=hist[,,\"FE|Gases (EJ/yr)\"],\n                              ylab='FE|Gases [EJ/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\n#p <- mipLineHistorical,data[,,\"FE|Heat (EJ/yr)\"],x_hist=hist[,,\"FE|Heat (EJ/yr)\"],\n#                       ylab='FE|Heat [EJ/yr]')\nswfigure(sw,mipLineHistorical,data[,,\"FE|Heat (EJ/yr)\"],x_hist=NULL,\n                              ylab='FE|Heat [EJ/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\nswfigure(sw,mipLineHistorical,data[,,\"FE|Solids (EJ/yr)\"],x_hist=hist[,,\"FE|Solids (EJ/yr)\"],\n                              ylab='FE|Solids [EJ/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\nswfigure(sw,mipLineHistorical,data[,,\"FE|Liquids (EJ/yr)\"],x_hist=hist[,,\"FE|Liquids (EJ/yr)\"],\n                              ylab='FE|Liquids [EJ/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\nswfigure(sw,mipLineHistorical,data[,,\"FE|Hydrogen (EJ/yr)\"],x_hist=NULL,\n                              ylab='FE|Hydrogen [EJ/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\nswfigure(sw,mipLineHistorical,data[,,\"FE|Transport|Liquids (EJ/yr)\"],x_hist=hist[,,\"FE|Transport|Liquids (EJ/yr)\"],\n                              ylab='FE|Transport|Liquids [EJ/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\n\nif(\"FE|Buildings (EJ/yr)\" %in% magclass::getNames(data,dim=3)){\n  swlatex(sw,\"\\\\subsubsection{Buildings}\")\n  \n  swfigure(sw,mipLineHistorical,data[,,\"FE|Buildings (EJ/yr)\"],x_hist=hist[,,\"FE|Buildings (EJ/yr)\"],\n           ylab='FE|Buildings [EJ/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n  \n  swfigure(sw,mipLineHistorical,data[,,\"FE|Buildings|Electricity (EJ/yr)\"],x_hist=hist[,,\"FE|Buildings|Electricity (EJ/yr)\"],\n           ylab='FE|Buildings|Electricity [EJ/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n  \n  swfigure(sw,mipLineHistorical,data[,,\"FE|Buildings|Gases (EJ/yr)\"],x_hist=hist[,,\"FE|Buildings|Gases (EJ/yr)\"],\n           ylab='FE|Buildings|Gases [EJ/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n  \n  swfigure(sw,mipLineHistorical,data[,,\"FE|Buildings|Heat (EJ/yr)\"],x_hist=NULL,\n           ylab='FE|Buildings|Heat [EJ/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n  \n  swfigure(sw,mipLineHistorical,data[,,\"FE|Buildings|Solids (EJ/yr)\"],x_hist=hist[,,\"FE|Buildings|Solids (EJ/yr)\"],\n           ylab='FE|Buildings|Solids [EJ/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n  \n  swfigure(sw,mipLineHistorical,data[,,\"FE|Buildings|Liquids (EJ/yr)\"],x_hist=hist[,,\"FE|Buildings|Liquids (EJ/yr)\"],\n           ylab='FE|Buildings|Liquids [EJ/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n  \n}\n\nif(\"FE|Industry (EJ/yr)\" %in% magclass::getNames(data,dim=3)){\n  swlatex(sw,\"\\\\subsubsection{Industry}\")\n  \n  swfigure(sw,mipLineHistorical,data[,,\"FE|Industry (EJ/yr)\"],x_hist=hist[,,\"FE|Industry (EJ/yr)\"],\n           ylab='FE|Industry [EJ/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n  \n  swfigure(sw,mipLineHistorical,data[,,\"FE|Industry|Electricity (EJ/yr)\"],x_hist=hist[,,\"FE|Industry|Electricity (EJ/yr)\"],\n           ylab='FE|Industry|Electricity [EJ/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n  \n  swfigure(sw,mipLineHistorical,data[,,\"FE|Industry|Gases (EJ/yr)\"],x_hist=hist[,,\"FE|Industry|Gases (EJ/yr)\"],\n           ylab='FE|Industry|Gases [EJ/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n  \n  swfigure(sw,mipLineHistorical,data[,,\"FE|Industry|Heat (EJ/yr)\"],x_hist=NULL,\n           ylab='FE|Industry|Heat [EJ/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n  \n  swfigure(sw,mipLineHistorical,data[,,\"FE|Industry|Solids (EJ/yr)\"],x_hist=hist[,,\"FE|Industry|Solids (EJ/yr)\"],\n           ylab='FE|Industry|Solids [EJ/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n  \n  swfigure(sw,mipLineHistorical,data[,,\"FE|Industry|Liquids (EJ/yr)\"],x_hist=hist[,,\"FE|Industry|Liquids (EJ/yr)\"],\n           ylab='FE|Industry|Liquids [EJ/yr]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n  \n}\n\n#Climate\nswlatex(sw,\"\\\\subsection{Climate}\")\nswfigure(sw,mipLineHistorical,data[,,\"Forcing (W/m2)\"],x_hist=NULL,\n         ylab='Forcing [W/m2]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\nswfigure(sw,mipLineHistorical,data[,,\"Temperature|Global Mean (K)\"],x_hist=NULL,\n         ylab='Temperature|Global Mean [K]',scales=\"free_y\",plot.priority=c(\"x_hist\",\"x\",\"x_proj\"),sw_option=\"height=10,width=9\")\n\n###############################################################################\n\n################## close output-pdf ###########################################\nswclose(sw)\n###############################################################################\n\n}  \n  \n\n",
    "created" : 1533202805397.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "502330969",
    "id" : "B2888758",
    "lastKnownWriteTime" : 1537534951,
    "last_content_update" : 1537534951,
    "path" : "~/Documents/work/libraries/remind/R/compareScenarios.R",
    "project_path" : "R/compareScenarios.R",
    "properties" : {
    },
    "relative_order" : 18,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}